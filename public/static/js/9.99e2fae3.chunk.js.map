{"version":3,"sources":["players/components/SearchBox.js","players/pages/SearchPlayer.js"],"names":["SearchBox","props","Date","now","className","htmlFor","id","type","placeholder","onChange","searchChange","searchPosition","value","searchFreeAgent","searchTransferible","searchMinClause","onInput","min","step","searchMaxClause","SearchPlayer","useHttpClient","isLoading","error","sendRequest","clearError","useState","loadedPlayers","setLoadedPlayers","update","setUpdate","auth","useContext","AuthContext","searchField","setSearchField","setSearchPosition","setSearchTransferible","setSearchMaxClause","setSearchMinClause","setSearchFreeAgent","useEffect","a","process","responseData","players","fetchUsers","Fragment","ErrorModal","onClear","isLoggedIn","Presupuesto","LoadingSpinner","event","target","PlayerList","items","filter","player","title","toLowerCase","includes","address","clausula","creatorName","transferible","toString","onUpdate","onDeletePlayer","deletedPlayerId","prevPlayers"],"mappings":"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","file":"static/js/9.99e2fae3.chunk.js","sourcesContent":["import React from \"react\";\nimport \"./SearchBox.css\";\n\nconst SearchBox = (props) => {\n  const ahora = Date.now();\n  return (\n    <div className=\"search-container\">\n      <div className=\"label-container\">\n        <label htmlFor=\"nombre\">Nombre jugador</label>\n        <input\n          className=\"search\"\n          id=\"nombre\"\n          type=\"search\"\n          placeholder=\"Introduce un nombre...\"\n          onChange={props.searchChange}\n        />\n      </div>\n      <div className=\"label-container\">\n        <label htmlFor=\"selectPosition\">Posición</label>\n        <select\n          id=\"selectPosition\"\n          className=\"search\"\n          onChange={props.searchPosition}\n        >\n          <option value=\"\">Cualquier posición</option>\n          <option className=\"POR\" value=\"POR\">\n            POR\n          </option>\n          <option className=\"DFC\" value=\"DFC\">\n            DFC\n          </option>\n          <option className=\"DFC\" value=\"CAR\">\n            CAR\n          </option>\n          <option className=\"DFC\" value=\"LD\">\n            LD\n          </option>\n          <option className=\"DFC\" value=\"LI\">\n            LI\n          </option>\n          <option className=\"MC\" value=\"MCD\">\n            MCD\n          </option>\n          <option className=\"MC\" value=\"MC\">\n            MC\n          </option>\n          <option className=\"MC\" value=\"MCO\">\n            MCO\n          </option>\n          <option className=\"MC\" value=\"MD\">\n            MD\n          </option>\n          <option className=\"MC\" value=\"MI\">\n            MI\n          </option>\n          <option className=\"DC\" value=\"EI\">\n            EI\n          </option>\n          <option className=\"DC\" value=\"ED\">\n            ED\n          </option>\n          <option className=\"DC\" value=\"SDI\">\n            SDI\n          </option>\n          <option className=\"DC\" value=\"SDD\">\n            SDD\n          </option>\n          <option className=\"DC\" value=\"SD\">\n            SD\n          </option>\n          <option className=\"DC\" value=\"DC\">\n            DC\n          </option>\n        </select>\n      </div>\n      <div className=\"label-container\">\n        <label htmlFor=\"searchPosition\">Equipo</label>\n        <select\n          id=\"searchPosition\"\n          className=\"search\"\n          onChange={props.searchFreeAgent}\n        >\n          <option value=\"\">Cualquier equipo</option>\n          <option value=\"Agente Libre\">Agente Libre</option>\n        </select>\n      </div>\n      <div className=\"label-container\">\n        <label htmlFor=\"searchTransferible\">Transferible</label>\n        <select\n          id=\"searchTransferible\"\n          className=\"search\"\n          onChange={props.searchTransferible}\n        >\n          <option value=\"\">Indiferente</option>\n          <option value=\"true\">Sí</option>\n          <option value=\"false\">No</option>\n        </select>\n      </div>\n      {/* <div className=\"label-container\">\n        <label htmlFor=\"searchClausulable\">Clausulable</label>\n        <select\n          id=\"searchClausulable\"\n          className=\"search\"\n          onChange={props.searchClausulable}\n        >\n          <option value=\"\">Indiferente</option>\n          <option value=\"Si\">Sí</option>\n          <option value=\"No\">No</option>\n        </select>\n      </div> */}\n      <div className=\"label-container\">\n        <label htmlFor=\"clausulaminima\">Cláusula minima</label>\n        <input\n          id=\"clausulaminima\"\n          className=\"search\"\n          onChange={props.searchMinClause}\n          onInput={props.searchMinClause}\n          min=\"1\"\n          step=\"1\"\n          placeholder=\"Cláusula mínima\"\n          type=\"number\"\n        ></input>\n      </div>\n\n      <div className=\"label-container\">\n        <label htmlFor=\"clausulamaxima\">Cláusula máxima</label>\n        <input\n          id=\"clausulamaxima\"\n          className=\"search\"\n          min=\"1\"\n          step=\"1\"\n          onChange={props.searchMaxClause}\n          placeholder=\"Cláusula máxima\"\n          onInput={props.searchMaxClause}\n          type=\"number\"\n        ></input>\n      </div>\n    </div>\n  );\n};\n\nexport default SearchBox;\n","import React, { useEffect, useState, useContext } from \"react\";\nimport PlayerList from \"../components/PlayerList\";\nimport ErrorModal from \"../../shared/components/UIElements/ErrorModal\";\nimport LoadingSpinner from \"../../shared/components/UIElements/LoadingSpinner\";\nimport { useHttpClient } from \"../../shared/hooks/http-hook\";\nimport Presupuesto from \"../../shared/components/Navigation/Presupuesto\";\nimport { AuthContext } from \"../../shared/context/auth-context\";\nimport SearchBox from \"../components/SearchBox\";\n\n\nconst SearchPlayer = () => {\n  //const ahora = Date.now();\n  const { isLoading, error, sendRequest, clearError } = useHttpClient();\n  const [loadedPlayers, setLoadedPlayers] = useState();\n  const [update, setUpdate] = useState(false);\n  const auth = useContext(AuthContext);\n  const [searchField, setSearchField] = useState(\"\");\n  const [searchPosition, setSearchPosition] = useState(\"\");\n  const [searchTransferible, setSearchTransferible] = useState(\"\");\n  const [searchMaxClause, setSearchMaxClause] = useState(\"999999999999\");\n  const [searchMinClause, setSearchMinClause] = useState(\"0\");\n  //const [searchClausulable, setSearchClausulable] = useState(\"\");\n  const [searchFreeAgent, setSearchFreeAgent] = useState(\"\");\n  \n  useEffect(() => {\n    const fetchUsers = async () => {\n      try {\n        const responseData = await sendRequest(\n          process.env.REACT_APP_BACKEND_URL + \"/players/top/ofertasrealizadas\"\n        );\n\n        setLoadedPlayers(responseData.players);\n      } catch (err) {}\n    };\n    fetchUsers();\n  }, [sendRequest, update]);\n\n  \n  \n  const playerDeletedHandler = (deletedPlayerId) => {\n    setLoadedPlayers((prevPlayers) =>\n      prevPlayers.filter((player) => player.id !== deletedPlayerId)\n    );\n  };\n  const updateHandler = () => {\n    setUpdate(!update);\n  };\n\n  const onSearchChange = (event) => {\n    setSearchField(event.target.value);\n  };\n\n  const onSearchPosition = (event) => {\n    setSearchPosition(event.target.value);\n  };\n  /* const onSearchClausulable = (event) => {\n    setSearchClausulable(event.target.value);\n  }; */\n\n  const onSearchTransferible = (event) => {\n    setSearchTransferible(event.target.value);\n  };\n\n  const onSearchMaxClause = (event) => {\n    setSearchMaxClause(event.target.value);\n  };\n\n  const onSearchMinClause = (event) => {\n    setSearchMinClause(event.target.value);\n  };\n\n  const onSearchFreeAgent = (event) => {\n    setSearchFreeAgent(event.target.value);\n  };\n\n  if (searchMaxClause === \"\") {\n    setSearchMaxClause(\"999999999999\");\n  }\n\n  if (searchMinClause === \"\") {\n    setSearchMinClause(\"0\");\n  }\n\n  return (\n    <React.Fragment>\n      <ErrorModal error={error} onClear={clearError} />\n      {auth.isLoggedIn && !isLoading && loadedPlayers && (\n        <Presupuesto></Presupuesto>\n      )}\n      {isLoading && (\n        <div className=\"center\">\n          <LoadingSpinner />\n        </div>\n      )}\n      {!isLoading && loadedPlayers && (\n        <React.Fragment>\n          <SearchBox\n            searchChange={onSearchChange}\n            searchPosition={onSearchPosition}\n            searchMaxClause={onSearchMaxClause}\n            searchMinClause={onSearchMinClause}\n            searchTransferible={onSearchTransferible}\n            searchFreeAgent={onSearchFreeAgent}\n            //searchClausulable={onSearchClausulable}\n          />\n          <PlayerList\n            items={loadedPlayers.filter((player) => {\n              /* let condition;\n              if (searchClausulable === \"Si\") {\n                condition = player.Expires <= ahora;\n              }\n              if (searchClausulable === \"No\") {\n                condition = player.Expires > ahora;\n              }\n              if (searchClausulable === \"\") {\n                condition = player.Expires <= ahora || player.Expires > ahora;\n              } */\n              return (\n                player.title\n                  .toLowerCase()\n                  .includes(searchField.toLowerCase()) &&\n                player.address\n                  .toLowerCase()\n                  .includes(searchPosition.toLowerCase()) &&\n                player.clausula >= searchMinClause &&\n                player.clausula <= searchMaxClause &&\n                player.creatorName.includes(searchFreeAgent) &&\n                player.transferible.toString().includes(searchTransferible) \n                //`${searchClausulable === \"Si\" ? player.Expires <= ahora : searchClausulable === \"No\" ? player.Expires <= ahora : player.Expires <= ahora || player.Expires > ahora}`\n                  /* .toLowerCase()\n                  .includes(searchTransferible.toLowerCase()) */\n              );\n            })}\n            searchField={searchField}\n            searchPosition={searchPosition}\n            searchMinClause={searchMinClause}\n            searchMaxClause={searchMaxClause}\n            searchFreeAgent={searchFreeAgent}\n            searchTransferible={searchTransferible}\n            //searchClausulable={searchClausulable}\n            //ahora={ahora}\n            onUpdate={updateHandler}\n            onDeletePlayer={playerDeletedHandler}\n          />\n        </React.Fragment>\n      )}\n    </React.Fragment>\n  );\n};\n\nexport default SearchPlayer;\n"],"sourceRoot":""}