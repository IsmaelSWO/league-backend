{"version":3,"sources":["users/pages/UsersSegunda.js"],"names":["UsersSegunda","useHttpClient","isLoading","error","sendRequest","clearError","useState","loadedUsers","setLoadedUsers","auth","useContext","AuthContext","useEffect","a","process","responseData","users","fetchUsers","Fragment","onClear","isLoggedIn","className","items","filter","user","division"],"mappings":"kNAqDeA,UA7CM,WACnB,MAAsDC,cAA9CC,EAAR,EAAQA,UAAWC,EAAnB,EAAmBA,MAAOC,EAA1B,EAA0BA,YAAaC,EAAvC,EAAuCA,WACvC,EAAsCC,qBAAtC,mBAAOC,EAAP,KAAoBC,EAApB,KACMC,EAAOC,qBAAWC,KAwBxB,OAtBAC,qBAAU,YACQ,uCAAG,4BAAAC,EAAA,+EAEYT,EACzBU,+CAHa,OAETC,EAFS,OAMfP,EAAeO,EAAaC,OANb,uGAAH,qDAkBhBC,KACC,CAACb,IAGF,kBAAC,IAAMc,SAAP,KACE,kBAAC,IAAD,CAAYf,MAAOA,EAAOgB,QAASd,IAClCI,EAAKW,YAAc,kBAAC,IAAD,MACnBlB,GACC,yBAAKmB,UAAU,UACb,kBAAC,IAAD,QAGFnB,GAAaK,GACb,kBAAC,IAAD,CACEe,MAAOf,EAAYgB,QAAO,SAACC,GAAD,MAA4B,YAAlBA,EAAKC","file":"static/js/17.b817755f.chunk.js","sourcesContent":["import React, { useEffect, useState, useContext } from \"react\";\nimport Presupuesto from \"../../shared/components/Navigation/Presupuesto\";\nimport UsersList from \"../components/UsersList\";\nimport ErrorModal from \"../../shared/components/UIElements/ErrorModal\";\nimport { AuthContext } from \"../../shared/context/auth-context\";\nimport LoadingSpinner from \"../../shared/components/UIElements/LoadingSpinner\";\nimport { useHttpClient } from \"../../shared/hooks/http-hook\";\n\nconst UsersSegunda = () => {\n  const { isLoading, error, sendRequest, clearError } = useHttpClient();\n  const [loadedUsers, setLoadedUsers] = useState();\n  const auth = useContext(AuthContext);\n\n  useEffect(() => {\n    const fetchUsers = async () => {\n      try {\n        const responseData = await sendRequest(\n          process.env.REACT_APP_BACKEND_URL + \"/users\"\n        );\n\n        setLoadedUsers(responseData.users);\n\n        /* const userHasOffers = await sendRequest(\n          `${process.env.REACT_APP_BACKEND_URL}/ofertas/get/receivedOffers/${auth.userId}`\n        );\n\n        var existing = localStorage.getItem(\"userData\");\n        existing = JSON.parse(existing);\n        existing.hasOffers = userHasOffers;\n        localStorage.setItem(\"userData\", JSON.stringify(existing)); */\n      } catch (err) {}\n    };\n    fetchUsers();\n  }, [sendRequest]);\n\n  return (\n    <React.Fragment>\n      <ErrorModal error={error} onClear={clearError} />\n      {auth.isLoggedIn && <Presupuesto></Presupuesto>}\n      {isLoading && (\n        <div className=\"center\">\n          <LoadingSpinner />\n        </div>\n      )}\n      {!isLoading && loadedUsers && (\n        <UsersList\n          items={loadedUsers.filter((user) => user.division === \"Segunda\")}\n        />\n      )}\n    </React.Fragment>\n  );\n};\n\nexport default UsersSegunda;\n"],"sourceRoot":""}